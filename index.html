<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Home | PhishAID</title>
  <link rel="stylesheet" href="/assets/css/style.css">
</head>
<body>

<!-- ================= NAVIGATION ================= -->
<nav class="navbar">
  <a href="/index.html">Home</a>
  <a href="/about.html">About</a>
  <a href="/problem-statement.html">Problem Statement</a>
  <a href="/methodology.html">Methodology</a>
  <a href="/architecture.html">Architecture</a>
  <a href="/technical-stack.html">Technical Stack</a>
  <a href="/rules.html">Rules</a>
  <a href="/research.html">Research</a>
  <a href="/presentation.html">Presentation</a>
  <a href="/contact.html">Contact</a>
</nav>

<hr>

<!-- ================= MAIN ================= -->
<div class="container">

  <h1>PhishAID</h1>
  <h3>Rule-Based Phishing Detection System</h3>

  <p>
    PhishAID is an academic cybersecurity project that detects phishing websites
    using a transparent and explainable rule-based framework.
  </p>

  <!-- ================= CHECKER ================= -->
  <div class="checker">

    <input
      type="url"
      id="urlInput"
      placeholder="Enter full URL (https://example.com)"
      required
    />

    <input
      type="email"
      id="emailInput"
      placeholder="Your email (optional – receive report)"
    />

    <button onclick="checkWebsite()">Check Website</button>

  </div>

  <!-- ================= LOADING ================= -->
  <p id="loading" class="hidden">
    Analyzing website using rule-based engine…
  </p>

  <!-- ================= RESULT ================= -->
  <div id="resultBox" class="result-box hidden">
    <h3 id="verdict"></h3>
    <p id="score"></p>
    <ul id="warnings"></ul>

    <button id="downloadBtn" class="hidden"
      onclick="window.location.href='/admin/dashboard'">
      Download Report
    </button>
  </div>

</div>

<!-- ================= FOOTER ================= -->
<footer>
  <hr>
  © 2026 PhishAID.online — Academic Demonstration Project
</footer>

<!-- ================= SCRIPT ================= -->
<script>
async function checkWebsite() {
  const url = document.getElementById("urlInput").value;
  const email = document.getElementById("emailInput").value;

  if (!url) {
    alert("Please enter a URL");
    return;
  }

  document.getElementById("loading").classList.remove("hidden");
  document.getElementById("resultBox").classList.add("hidden");

  const res = await fetch("/check", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ url, email })
  });

  const data = await res.json();

  document.getElementById("loading").classList.add("hidden");
  document.getElementById("resultBox").classList.remove("hidden");

  document.getElementById("verdict").innerText =
    `Verdict: ${data.verdict}`;

  document.getElementById("score").innerText =
    `Risk Score: ${data.score}`;

  const warningsEl = document.getElementById("warnings");
  warningsEl.innerHTML = "";

  if (data.warnings.length === 0) {
    warningsEl.innerHTML = "<li>No phishing indicators found.</li>";
  } else {
    data.warnings.forEach(w => {
      warningsEl.innerHTML += `<li>${w}</li>`;
    });
  }

  document.getElementById("downloadBtn").classList.remove("hidden");
}
</script>

</body>
</html>
